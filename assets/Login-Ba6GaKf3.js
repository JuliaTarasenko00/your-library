import{s as d,u as p,a as f,r as g,b as m,j as s}from"./index-BupoXkMg.js";import{u as h,a as j,A as v,C as u,E as b,P as E,b as w,c as L,o as S,v as A}from"./yup-CGFKYHcY.js";import"./logo-CsRgapO3.js";const k=()=>{const{mutate:a}=h({mutationKey:["fetch/signin"],mutationFn:n=>d(n)});return{mutate:a}},y={email:"",password:""};function M(){const a=p(),{mutate:n}=k(),{token:o,setToken:c}=f(),{control:r,handleSubmit:l,formState:{errors:i}}=j({defaultValues:y,mode:"onSubmit",resolver:S(A)}),x=t=>{n(t,{onSuccess:e=>{c(e.token)},onError:e=>{console.error("Error signing in",e)}})};return g.useEffect(()=>{o&&a(m.main)},[o]),s.jsx(v,{children:s.jsxs("form",{onSubmit:l(x),className:"flex flex-col items-start justify-between",children:[s.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-[14px]",children:[s.jsx(u,{name:"email",control:r,render:({field:t})=>{var e;return s.jsx(b,{...t,errorMessage:(e=i.email)==null?void 0:e.message})}}),s.jsx(u,{name:"password",control:r,render:({field:t})=>{var e;return s.jsx(E,{...t,errorMessage:(e=i.password)==null?void 0:e.message})}})]}),s.jsxs("div",{className:"mt-[72px] flex items-center gap-[14px] md:mt-[146px] md:gap-[20px]",children:[s.jsx(w,{children:"Login In"}),s.jsx(L,{to:m.register,children:"Donâ€™t have an account? "})]})]})})}export{M as default};
