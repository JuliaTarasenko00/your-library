import{k as l,u as p,r as x,b as c,c as u,j as e}from"./index-Gdo5W-Ll.js";import{d as g,C as h,L as f,T as b}from"./Title-B6AE3tXi.js";import{u as j,t as w}from"./toastStyle-CnZ7v1oI.js";const y=()=>{const{mutate:s,isPending:n}=j({mutationKey:["request/book_by_id"],mutationFn:a=>g(a)});return{mutate:s,isPending:n}};function R(){const{bookId:s}=l(),n=p(),{mutate:a,isPending:i}=y(),[t,d]=x.useState(null),[o,m]=x.useState(!1);return x.useEffect(()=>{s?a(s,{onSuccess:r=>{d(r)},onError:r=>{u.error(r.message,{style:w})}}):n(c.main)},[s,a]),e.jsxs(h,{childrenSecond:e.jsx("p",{children:"Aside"}),children:[i&&e.jsx(f,{}),t&&!i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-[3px]",children:[e.jsx(b,{children:"My reading"}),e.jsxs("p",{className:"text-[10px] text-[#686868] md:text-[14px]",children:[t.timeLeftToRead.hours>0?`${t.timeLeftToRead.hours} hours and`:""," ",t.timeLeftToRead.minutes," minutes left"]})]}),e.jsxs("div",{className:"mg:mt-[40px] mt-[32px] place-items-center lg:mt-[44px]",children:[e.jsx("img",{src:t.imageUrl,alt:t.title,width:137,height:208,loading:"lazy",className:"mb-[10px] h-[208px] w-[137px] rounded-[8px] md:h-[256px] md:w-[169px] lg:h-[340px] lg:w-[224px]"}),e.jsx("h3",{className:"md:text[20px] max-w-[170px] text-center text-[14px] font-bold leading-[18px] text-[#F9F9F9] md:max-w-max md:leading-[20px]",children:t.title}),e.jsx("p",{className:"mb-[20px] mt-[5px] text-[10px] leading-[12px] text-[#686868] md:mb-[16px] md:text-[14px] md:leading-[18px]",children:t.author}),e.jsx("button",{type:"button",onClick:()=>m(!o),className:"flex h-[40px] w-[40px] items-center justify-center rounded-[50%] border-[1.5px] border-[#F9F9F9] bg-transparent md:h-[50px] md:w-[50px]",children:e.jsx("span",{className:`inline-block ${o?"h-[37%] w-[37%] rounded-[3px]":"h-[87%] w-[87%] rounded-[50%]"} transition-custom bg-[#E90516]`})})]})]})]})}export{R as default};
