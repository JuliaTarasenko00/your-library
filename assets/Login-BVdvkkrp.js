import{s as p,u as f,a as g,r as h,b as c,j as e,c as j}from"./index-B5_S-FnD.js";import{u as v,a as L,C as u,t as b}from"./toastStyle-DgEY4zav.js";import{o as E}from"./index.esm-DzzYa7yZ.js";import{A as S,E as w,P as y,a as A,C as N,b as k,v as C}from"./ComponentLoader-bvvrJsxa.js";import"./logo-CsRgapO3.js";import"./iconBase-BLmnM2lr.js";import"./index-BlXa3pRq.js";const F=()=>{const{mutate:a,isPending:o}=v({mutationKey:["fetch/signin"],mutationFn:r=>p(r)});return{mutate:a,isPending:o}},I={email:"",password:""};function V(){const a=f(),{mutate:o,isPending:r}=F(),{token:n,setToken:l}=g(),{control:i,handleSubmit:x,formState:{errors:m}}=L({defaultValues:I,mode:"onSubmit",resolver:E(C)}),d=t=>{o(t,{onSuccess:s=>{l(s.token)},onError:s=>{j.error(s.response.data.message,{style:b})}})};return h.useEffect(()=>{n&&a(c.main)},[n]),e.jsx(S,{children:e.jsxs("form",{onSubmit:x(d),className:"flex flex-col items-start justify-between",children:[e.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-[14px]",children:[e.jsx(u,{name:"email",control:i,render:({field:t})=>{var s;return e.jsx(w,{...t,errorMessage:(s=m.email)==null?void 0:s.message})}}),e.jsx(u,{name:"password",control:i,render:({field:t})=>{var s;return e.jsx(y,{...t,errorMessage:(s=m.password)==null?void 0:s.message})}})]}),e.jsxs("div",{className:"mt-[72px] flex items-center gap-[14px] md:mt-[146px] md:gap-[20px]",children:[e.jsx(A,{children:r?e.jsxs("div",{className:"flex items-center gap-[14px]",children:[e.jsx(N,{})," Login In"]}):"Login In"}),e.jsx(k,{to:c.register,children:"Donâ€™t have an account? "})]})]})})}export{V as default};
