import{r as l,j as e,c as h,u as j,a as g,b as x}from"./index-BupoXkMg.js";import{d as b,e as c,f as v,g as E,u as F,a as w,A as N,C as d,E as y,P as A,b as R,c as S,o as k}from"./yup-CGFKYHcY.js";import"./logo-CsRgapO3.js";const I=b().shape({name:c().min(3).required(),email:c().matches(v,"Enter a valid Email*").required("Enter a valid Email*"),password:c().min(8).required("Enter a valid Password*")}),p=l.forwardRef(({errorMessage:s,label:n,...o},u)=>{const a=l.useRef(null),[m,i]=l.useState(0);return l.useEffect(()=>{a.current&&i(a.current.offsetWidth+22)},[n]),e.jsxs("div",{className:"relative w-full",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{ref:a,className:"absolute left-[14px] top-[50%] translate-y-[-50%] text-[12px] text-[#686868] md:text-[14px]",children:n}),e.jsx("input",{type:"text",...o,ref:u,className:`w-full rounded-[12px] border-[1px] bg-[#262626] py-[16px] pl-[${m}px] pr-[14px] text-[12px] text-[#F9F9F9] md:text-[14px] ${s?"border-[#E90516]":"border-transparent hover:border-[#F9F9F91A] focus:border-[#F9F9F91A]"} outline-none transition duration-300`})]}),s&&e.jsx(E,{children:s})]})});p.displayName="TextInput";const T=()=>{const{data:s,mutate:n}=F({mutationKey:["fetch/signup"],mutationFn:o=>h(o)});return{data:s,mutate:n}},$={name:"",email:"",password:""};function W(){const s=j(),{mutate:n}=T(),{token:o,setToken:u}=g(),{control:a,handleSubmit:m,formState:{errors:i}}=w({defaultValues:$,mode:"onSubmit",resolver:k(I)}),f=r=>{n(r,{onSuccess:t=>{u(t.token)},onError:t=>{console.error("Error signing up",t)}})};return l.useEffect(()=>{o&&s(x.main)},[o]),e.jsx(N,{children:e.jsxs("form",{onSubmit:m(f),className:"flex flex-col items-start justify-between",children:[e.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-[14px]",children:[e.jsx(d,{name:"name",control:a,render:({field:r})=>{var t;return e.jsx(p,{...r,errorMessage:(t=i.name)==null?void 0:t.message,label:"Name:"})}}),e.jsx(d,{name:"email",control:a,render:({field:r})=>{var t;return e.jsx(y,{...r,errorMessage:(t=i.email)==null?void 0:t.message})}}),e.jsx(d,{name:"password",control:a,render:({field:r})=>{var t;return e.jsx(A,{...r,errorMessage:(t=i.password)==null?void 0:t.message})}})]})," ",e.jsxs("div",{className:"mt-[82px] flex items-center gap-[14px] md:gap-[20px]",children:[e.jsx(R,{children:"Registration"}),e.jsx(S,{to:x.login,children:"Already have an account?"})," "]})]})})}export{W as default};
