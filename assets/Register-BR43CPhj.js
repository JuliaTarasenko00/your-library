import{d as g,u as f,a as h,r as j,b as c,j as e,c as E}from"./index-CVkqP1uT.js";import{u as v,a as b,C as m,t as w}from"./toastStyle-CqDNtB7b.js";import{c as S,d as l,e as y,A,E as N,P as R,a as P,b as k,o as C}from"./validateSchema-DSX0MFQs.js";import{T as F}from"./TextInput-X81d8FbJ.js";import{C as M}from"./ComponentLoader-aBbbbZpV.js";import"./iconBase-CVQbF497.js";import"./logo-CsRgapO3.js";const q=S().shape({name:l().min(3).required(),email:l().matches(y,"Enter a valid Email*").required("Enter a valid Email*"),password:l().min(8).required("Enter a valid Password*")}),I=()=>{const{mutate:t,isPending:r}=v({mutationKey:["fetch/signup"],mutationFn:n=>g(n)});return{isPending:r,mutate:t}},L={name:"",email:"",password:""};function D(){const t=f(),{mutate:r,isPending:n}=I(),{token:u,setToken:d}=h(),{control:o,handleSubmit:p,formState:{errors:i}}=b({defaultValues:L,mode:"onSubmit",resolver:C(q)}),x=a=>{r(a,{onSuccess:s=>{d(s.token)},onError:s=>{E.error(s.message,{style:w})}})};return j.useEffect(()=>{u&&t(c.main)},[u]),e.jsx(A,{children:e.jsxs("form",{onSubmit:p(x),className:"flex flex-col items-start justify-between",children:[e.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-[14px]",children:[e.jsx(m,{name:"name",control:o,render:({field:a})=>{var s;return e.jsx(F,{...a,errorMessage:(s=i.name)==null?void 0:s.message,label:"Name:"})}}),e.jsx(m,{name:"email",control:o,render:({field:a})=>{var s;return e.jsx(N,{...a,errorMessage:(s=i.email)==null?void 0:s.message})}}),e.jsx(m,{name:"password",control:o,render:({field:a})=>{var s;return e.jsx(R,{...a,errorMessage:(s=i.password)==null?void 0:s.message})}})]}),e.jsxs("div",{className:"mt-[82px] flex items-center gap-[14px] md:gap-[20px]",children:[e.jsx(P,{children:n?e.jsxs("div",{className:"flex items-center gap-[14px]",children:[e.jsx(M,{})," Registration"]}):"Registration"}),e.jsx(k,{to:c.login,children:"Already have an account?"})," "]})]})})}export{D as default};
