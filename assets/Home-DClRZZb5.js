import{r as l,F as P,f as z,u as S,j as e,b as j}from"./index-B5_S-FnD.js";import{F as Z,b as O,B as T}from"./bigBook-ChUp5b0l.js";import{g as I,s as b,C as L,T as Q,L as R}from"./Title-rMoPHFcG.js";import{a as X,b as V}from"./index-DDCtYXxy.js";import{a as E,C as f}from"./toastStyle-DgEY4zav.js";import{T as F}from"./TextInput-BTSYMi3L.js";import"./iconBase-BLmnM2lr.js";import"./index-BlXa3pRq.js";const u=()=>{const t=l.useContext(P);if(!t)throw new Error("some problems with book filtering");return t},J=(t,r)=>{const{value:{title:a,author:n}}=u(),{data:o,isLoading:x}=z({queryKey:["response/recommend_book",t,r,a,n],queryFn:()=>I(t,r,a,n),enabled:!!t&&!!r});return{data:o,isLoading:x}},w="md:h-[44px] rounded-[30px] flex items-center justify-center md:w-[44px] md:min-w-[44px] h-[40px] w-[40px] min-w-[40px] bg-[#F9F9F9] text-[#1F1F1F] text-[20px] font-bold text-center",A="flex items-center gap-[12px]",y="text-[14px] font-medium leading-[18px] text-[#686868] text-balance",W="data:image/webp;base64,UklGRuIDAABXRUJQVlA4WAoAAAAQAAAAJwAAKAAAQUxQSIcBAAABkAPZtmlba59n27ZtfFuZ9ZB924ysyLat0LYZPdvGwXrcZ6+PPCImAP71DnEjl1+5N9GagBnbug5evPdZXo2MWHV9kLkY5jYge+/9X+3IWbE/kOliISNP/K5rUVGn+nOth6EO29f1KLbj6XhzvoAKFK48HGLEE0qAWHgkQurPPY8CtcJVHv1IKyooEOWvWW6sFxgvkkkQ207Z9gEwu4Zmgb9BPxYrSNq8oW8DsJuhUVRb9hV2bN+3CqRUcmz7mNiM1A0XvHrlthO1599Y694rq42i7dO+7BgrBr1jSygKk4BTOqIQyOt4ICGfAD9Z8xhuomjLYhzgV0Kg3rTlgfUd4rTaZK7g9+JadtlzsTnisGQcF9g8Eod1WRKP4cwmcfJXRx6wvC+uYJTEBZOrhX1yB36LS8K+eumAiBZR9dP1GJwWo3bUXZF0QFqRLrn69509Cyd4gl7jzVo/akvx5zv7Fg4PdrU0YSAwIB8ROyufHlszPcXbnIF4KWvr8MGBNgzoLW0lBv9NAFZQOCA0AgAAkAsAnQEqKAApAD6RPphIJaOioS47+ZiwEglsDLAA37xXHMvK4AG2557nTOd5XX85T/VBOjX6AH6kh1bzmIQTqdiaAQb0qp+FmS1FEb7liV4fts/FHg7QB8lNhn8ivN1/Bv/f/AAA+diZw5wFmsWghL8BrQ6DoHKhiN2czoJNfiaSfTRsvxGBawY8by91VAcjZJ+131dJFdHP8P3JvWvyIZyrACUhyhFeAyzgmppL1egHFv64Gvis1fS3XVprtT3FbiwT2i6pmsMJWBXQPDp3WSOO5DjrQ0grGa+qitP/9m7mCSuZgwzRESn3fpItlf0MfcJcAce1oDihRP/bHSacKDeyGmmOmHywh5lVqMrR3RzzrwV6AHoVD7ObU9kfV0rLNiAh+rs5XbjF9ydqNXg8lvsqZi10ofXF/tzrquvPxvX/g3N/zUzzW4Q3ozLvZ8zj3ytu6joYtPOHx6twNOgkl5tQgnPghXrqlYEES3cTdnzb35mQcZnKTjmMm5aQ6Krt83Mt5Kjg1v2ZBOJPFhVsnMoyJoxhoPlCBfwcghayXGlnJt0hx+rsYNPVO7/3tOEiv4aRrt/oyv8UGw/INW1CHgfkVcQp404aNZs7BTpizmIlOCIvCI8n/TkRCQmCDd6DylRdZFA02fKC7jQozmeJ8jTXWTJa838uS0ZCJ39uziBXrODs6ivnDfYLZnli1nIc/TxJlhy/454///n6j4tX/BVT+vLpc38gz9kNLlosRUnCAAAA",K=({setCurrentPage:t,currentPage:r})=>{const{value:a,setValue:n}=u(),o=S(),x={title:a.title,author:a.author},{control:s,reset:m,handleSubmit:p,getValues:h,formState:{errors:c,isDirty:v,isSubmitted:k}}=E({defaultValues:x,mode:"onChange"}),B=Object.values(h()).some(i=>i!==""),g=()=>{if(r!==1){t(1);return}},C=i=>{g(),n({title:i.title,author:i.author})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-[100%]",children:[e.jsx("h2",{className:"mb-[8px] text-[10px] font-medium text-[#F9F9F9] md:text-[14px]",children:"Filters:"}),e.jsxs("form",{onSubmit:p(C),children:[e.jsxs("div",{className:"flex flex-col gap-[8px]",children:[e.jsx(f,{name:"title",control:s,render:({field:i})=>{var d;return e.jsx(F,{...i,errorMessage:(d=c.title)==null?void 0:d.message,label:"Book title:"})}}),e.jsx(f,{name:"author",control:s,render:({field:i})=>{var d;return e.jsx(F,{...i,errorMessage:(d=c.title)==null?void 0:d.message,label:"The author:"})}})]}),e.jsxs("div",{className:"mt-[20px] flex items-center justify-between md:mt-[32px] lg:mt-[20px]",children:[e.jsx("button",{type:"submit",className:b,disabled:!v,children:"To apply"}),(k||B)&&e.jsx("button",{type:"button",className:b,onClick:()=>{m({title:"",author:""}),n({title:"",author:""}),g()},children:"To clear"})]})]})]}),e.jsxs("div",{className:"rounded-[12px] bg-[#262626] p-[20px]",children:[e.jsx("h3",{className:"mb-[40px] text-[18px] font-bold text-[#F9F9F9] md:text-[20px]",children:"Start your workout"}),e.jsxs("div",{className:"flex flex-col gap-[20px]",children:[e.jsxs("div",{className:A,children:[e.jsx("p",{className:w,children:e.jsx("span",{children:"1"})}),e.jsxs("p",{className:y,children:[e.jsx("span",{className:"text-[#F9F9F9]",children:"Create a personal library:"})," ","add the books you intend to read to it."]})]}),e.jsxs("div",{className:A,children:[e.jsx("p",{className:w,children:e.jsx("span",{children:"2"})}),e.jsxs("p",{className:y,children:[e.jsx("span",{className:"text-[#F9F9F9]",children:"Create your first workout:"})," ","define a goal, choose a period, start training."]})]})]}),e.jsxs("div",{className:"mt-[20px] flex items-center justify-between",children:[e.jsx("button",{type:"button",onClick:()=>o(j.library),className:"text-[14px] leading-[18px] text-[#686868] underline",children:"My library"}),e.jsx("button",{type:"button",onClick:()=>o(j.library),children:e.jsx(Z,{})})]})]}),e.jsxs("div",{className:"hidden items-center gap-[14px] rounded-[12px] bg-[#262626] px-[20px] py-[15px] lg:flex",children:[e.jsx("img",{src:W,alt:"book"}),e.jsxs("p",{className:"text-balance text-[14px] leading-[18px] text-[#686868]",children:['"Books are ',e.jsx("span",{className:"text-[#F9F9F9]",children:"windows"}),' to the world, and reading is a journey into the unknown."']})]})]})},H=()=>{const{value:t}=u();return e.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-start gap-[20px] lg:justify-center",children:[e.jsx("div",{className:"flex h-[100px] w-[100px] items-center justify-center rounded-[65px] bg-[#262626] md:h-[130px] md:w-[130px]",children:e.jsx("img",{src:O,alt:"book",width:70,height:70,className:"h-[50px] w-[50px] md:h-[70px] md:w-[70px]"})}),e.jsxs("p",{className:"max-w-[474px] text-center text-[14px] font-normal leading-[18px] text-[#F9F9F9]",children:["Oops! It looks like this book",t.title?e.jsxs("span",{className:"text-[#686868]",children:[" ",t.title," "]}):"",t.author?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"the author of which"}),e.jsxs("span",{className:"text-[#686868]",children:[" ",t.author," "]})]}):"","is hiding between the pages of other stories!"]}),e.jsx("p",{className:"max-w-[474px] text-center text-[14px] font-normal leading-[18px] text-[#F9F9F9]",children:"Maybe try searching again or discover something new for inspiration?"})]})},N="flex md:h-[40px] md:w-[40px] w-[32px] h-[32px] items-center justify-center rounded-[30px] border-[1px] border-[#F9F9F933] text-[#F9F9F9] disabled:text-[#F9F9F933]";function ee(){const[t,r]=l.useState(1),[a,n]=l.useState(2),[o,x]=l.useState(window.innerWidth),{data:s,isLoading:m}=J(t,a),p=()=>{(s==null?void 0:s.totalPages)!==t&&r(t+1)},h=()=>{t!==1&&r(t-1)};return l.useEffect(()=>{const c=()=>x(window.innerWidth);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),l.useEffect(()=>{if(o>=1280){n(10);return}else if(o>=768){n(8);return}else{n(2);return}},[o]),e.jsxs(L,{childrenSecond:e.jsx(K,{setCurrentPage:r,currentPage:t}),children:[e.jsxs("div",{className:"mb-[20px] flex items-center justify-between",children:[e.jsx(Q,{children:"Recommended"}),!!(s!=null&&s.results.length)&&e.jsxs("div",{className:"flex items-center justify-end gap-[8px]",children:[e.jsx("button",{type:"button",onClick:h,disabled:t===1,className:N,children:e.jsx(X,{className:"h-[20px] w-[20px]"})}),e.jsx("button",{type:"button",onClick:p,disabled:(s==null?void 0:s.totalPages)===t,className:N,children:e.jsx(V,{className:"h-[20px] w-[20px]"})})]})]}),m?e.jsx(R,{}):e.jsx(T,{data:s==null?void 0:s.results}),!(s!=null&&s.results.length)&&e.jsx(H,{})]})}export{ee as default};
