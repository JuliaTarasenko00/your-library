import{r as l,p as N,j as e,u as A,b as h}from"./index-qTs9dUOZ.js";import{a as k}from"./index-BpUqXqCi.js";import{u as B,s as g,w as b,n as j,t as f,F as C,a as P,C as z,T}from"./Title-PDRUILbI.js";import{a as S,b as E}from"./index-Cp12Xxof.js";import{u as Z,C as F}from"./ErrorTitle-DpPXQZVI.js";import{T as w}from"./TextInput-BpHs-dwC.js";import"./iconBase-B0iE92K1.js";const I=()=>{const[t,s]=l.useState(!1),r=()=>{s(!t)};return l.useEffect(()=>{t?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[t]),{open:t,onToggleModal:r}},L=document.getElementById("modal"),O=({children:t,closeModal:s,isOpen:r})=>{const a=n=>{n.currentTarget===n.target&&s()};return l.useEffect(()=>{const n=d=>{d.code==="Escape"&&s()};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[s]),N.createPortal(e.jsxs("div",{className:`relative z-10 ${r?"h-100% w-100% opacity-100":"h-0 w-0 opacity-0"} transition duration-[450ms] ease-out`,"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:`${r?"h-100% w-100% opacity-100":"h-0 w-0 opacity-0"} fixed inset-0 transition duration-[450ms] ease-out`,"aria-hidden":"true"}),e.jsx("div",{className:`fixed inset-0 ${r?"h-100% w-100% opacity-100":"h-0 w-0 opacity-0"} z-10 w-screen overflow-y-auto transition duration-[450ms] ease-out`,children:e.jsx("div",{className:`flex min-h-full items-end justify-center ${r?"h-100% w-100% opacity-100":"h-0 w-0 opacity-0"} sm:items-center sm:p-0 bg-[#14141499] p-4 text-center transition duration-[450ms] ease-out`,onClick:a,children:e.jsxs("div",{className:"relative rounded-[12px] border-[1px] border-[#68686833] bg-[#1F1F1F] px-[25px] py-[40px] md:p-[50px]",children:[e.jsx("button",{type:"button",className:"absolute right-[16px] top-[16px] h-[22px] w-[22px]",onClick:s,children:e.jsx(k,{})}),t]})})})]}),L)},R=({book:t,closeModal:s,isOpen:r})=>e.jsx(O,{closeModal:s,isOpen:r,children:t!==null&&e.jsxs("div",{className:"flex max-w-[450px] flex-col items-center justify-center",children:[e.jsx("img",{src:t.imageUrl,alt:t.title,width:153,height:233,className:"mb-[16px] h-[213px] w-[140px] rounded-[8px] md:h-[233px] md:w-[153px]"}),e.jsx("p",{className:"mb-[2px] text-[18px] font-bold leading-[18px] text-[#F9F9F9] md:text-[20px] md:leading-[20px]",children:t.title}),e.jsx("p",{className:"mb-[4px] text-[12px] font-normal leading-[14px] text-[#686868] md:text-[14px] md:leading-[18px]",children:t.author}),e.jsx("p",{className:"mb-[20px] text-[10px] leading-[12px] text-[#F9F9F9] md:mb-[32px]",children:t.totalPages}),e.jsx("button",{type:"button",className:"transition-custom rounded-[30px] border-[1px] border-[#F9F9F933] px-[24px] py-[12px] text-[14px] font-bold leading-[18px] text-[#F9F9F9] hover:border-[#F9F9F9] hover:bg-[#F9F9F9] hover:text-[#1F1F1F] focus:border-[#F9F9F9] focus:bg-[#F9F9F9] focus:text-[#1F1F1F] md:px-[28px] md:py-[14px] md:text-[16px]",children:"Add to library"})]})}),X=({data:t})=>{const{open:s,onToggleModal:r}=I(),[a,n]=l.useState(null),d=o=>{const x=t==null?void 0:t.results.find(({_id:i})=>i===o);n(x),r()};return e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"grid grid-cols-2 justify-center gap-x-[8px] xs:gap-x-[21px] md:grid-cols-4 md:gap-x-[20px] md:gap-y-[27px] xl:grid-cols-5",children:t==null?void 0:t.results.map(({_id:o,imageUrl:x,title:i,author:p})=>{const c=`${i.slice(0,22)}${i.length>=22?"...":""}`;return e.jsxs("li",{className:"mx-auto mt-0 flex w-[120px] cursor-pointer flex-col xs:w-[137px]",onClick:()=>d(o),children:[e.jsx("img",{src:x,alt:i,width:137,height:208,loading:"lazy",className:"h-[208px] rounded-[8px]"}),e.jsxs("div",{className:"flex-grow-[1]",children:[e.jsx("h2",{className:"mb-[2px] mt-[8px] text-[14px] font-bold leading-[18px] text-[#F9F9F9]",children:c}),e.jsx("h4",{className:"text-[10px] font-normal leading-[12px] text-[#686868]",children:p})]})]},o)})}),e.jsx(R,{book:a,closeModal:r,isOpen:s})]})},Q=()=>e.jsx("div",{className:"flex h-full w-full items-center justify-center",children:e.jsx("div",{className:"loader border-r-1 box-border h-[50px] w-[50px] animate-spin rounded-full border-t-2 border-solid border-white border-r-transparent"})}),D="data:image/webp;base64,UklGRuIDAABXRUJQVlA4WAoAAAAQAAAAJwAAKAAAQUxQSIcBAAABkAPZtmlba59n27ZtfFuZ9ZB924ysyLat0LYZPdvGwXrcZ6+PPCImAP71DnEjl1+5N9GagBnbug5evPdZXo2MWHV9kLkY5jYge+/9X+3IWbE/kOliISNP/K5rUVGn+nOth6EO29f1KLbj6XhzvoAKFK48HGLEE0qAWHgkQurPPY8CtcJVHv1IKyooEOWvWW6sFxgvkkkQ207Z9gEwu4Zmgb9BPxYrSNq8oW8DsJuhUVRb9hV2bN+3CqRUcmz7mNiM1A0XvHrlthO1599Y694rq42i7dO+7BgrBr1jSygKk4BTOqIQyOt4ICGfAD9Z8xhuomjLYhzgV0Kg3rTlgfUd4rTaZK7g9+JadtlzsTnisGQcF9g8Eod1WRKP4cwmcfJXRx6wvC+uYJTEBZOrhX1yB36LS8K+eumAiBZR9dP1GJwWo3bUXZF0QFqRLrn69509Cyd4gl7jzVo/akvx5zv7Fg4PdrU0YSAwIB8ROyufHlszPcXbnIF4KWvr8MGBNgzoLW0lBv9NAFZQOCA0AgAAkAsAnQEqKAApAD6RPphIJaOioS47+ZiwEglsDLAA37xXHMvK4AG2557nTOd5XX85T/VBOjX6AH6kh1bzmIQTqdiaAQb0qp+FmS1FEb7liV4fts/FHg7QB8lNhn8ivN1/Bv/f/AAA+diZw5wFmsWghL8BrQ6DoHKhiN2czoJNfiaSfTRsvxGBawY8by91VAcjZJ+131dJFdHP8P3JvWvyIZyrACUhyhFeAyzgmppL1egHFv64Gvis1fS3XVprtT3FbiwT2i6pmsMJWBXQPDp3WSOO5DjrQ0grGa+qitP/9m7mCSuZgwzRESn3fpItlf0MfcJcAce1oDihRP/bHSacKDeyGmmOmHywh5lVqMrR3RzzrwV6AHoVD7ObU9kfV0rLNiAh+rs5XbjF9ydqNXg8lvsqZi10ofXF/tzrquvPxvX/g3N/zUzzW4Q3ozLvZ8zj3ytu6joYtPOHx6twNOgkl5tQgnPghXrqlYEES3cTdnzb35mQcZnKTjmMm5aQ6Krt83Mt5Kjg1v2ZBOJPFhVsnMoyJoxhoPlCBfwcghayXGlnJt0hx+rsYNPVO7/3tOEiv4aRrt/oyv8UGw/INW1CHgfkVcQp404aNZs7BTpizmIlOCIvCI8n/TkRCQmCDd6DylRdZFA02fKC7jQozmeJ8jTXWTJa838uS0ZCJ39uziBXrODs6ivnDfYLZnli1nIc/TxJlhy/454///n6j4tX/BVT+vLpc38gz9kNLlosRUnCAAAA",J={title:"",author:""},V=({setCurrentPage:t,currentPage:s})=>{const{setValue:r}=B(),a=A(),{control:n,reset:d,handleSubmit:o,formState:{errors:x,isDirty:i,isSubmitted:p}}=Z({defaultValues:J,mode:"onChange"}),c=()=>{if(s!==1){t(1);return}},v=m=>{c(),r({title:m.title,author:m.author})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-[8px] text-[10px] font-medium text-[#F9F9F9] md:text-[14px]",children:"Filters:"}),e.jsxs("form",{onSubmit:o(v),children:[e.jsxs("div",{className:"flex flex-col gap-[8px]",children:[e.jsx(F,{name:"title",control:n,render:({field:m})=>{var u;return e.jsx(w,{...m,errorMessage:(u=x.title)==null?void 0:u.message,label:"Book title:"})}}),e.jsx(F,{name:"author",control:n,render:({field:m})=>{var u;return e.jsx(w,{...m,errorMessage:(u=x.title)==null?void 0:u.message,label:"The author:"})}})]}),e.jsxs("div",{className:"mt-[20px] flex items-center justify-between md:mt-[32px] lg:mt-[20px]",children:[e.jsx("button",{type:"submit",className:g,disabled:!i,children:"To apply"}),p&&e.jsx("button",{type:"button",className:g,onClick:()=>{d(),r({title:"",author:""}),c()},children:"To clear"})]})]})]}),e.jsxs("div",{className:"rounded-[12px] bg-[#262626] p-[20px]",children:[e.jsx("h3",{className:"mb-[40px] text-[18px] font-bold text-[#F9F9F9] md:text-[20px]",children:"Start your workout"}),e.jsxs("div",{className:"flex flex-col gap-[20px]",children:[e.jsxs("div",{className:b,children:[e.jsx("p",{className:j,children:e.jsx("span",{children:"1"})}),e.jsxs("p",{className:f,children:[e.jsx("span",{className:"text-[#F9F9F9]",children:"Create a personal library:"})," ","add the books you intend to read to it."]})]}),e.jsxs("div",{className:b,children:[e.jsx("p",{className:j,children:e.jsx("span",{children:"2"})}),e.jsxs("p",{className:f,children:[e.jsx("span",{className:"text-[#F9F9F9]",children:"Create your first workout:"})," ","define a goal, choose a period, start training."]})]})]}),e.jsxs("div",{className:"mt-[20px] flex items-center justify-between",children:[e.jsx("button",{type:"button",onClick:()=>a(h.library),className:"text-[14px] leading-[18px] text-[#686868] underline",children:"My library"}),e.jsx("button",{type:"button",onClick:()=>a(h.library),children:e.jsx(C,{})})]})]}),e.jsxs("div",{className:"hidden items-center gap-[14px] rounded-[12px] bg-[#262626] px-[20px] py-[15px] lg:flex",children:[e.jsx("img",{src:D,alt:"book"}),e.jsxs("p",{className:"text-[14px] leading-[18px] text-[#686868]",children:['"Books are ',e.jsx("span",{className:"text-[#F9F9F9]",children:"windows"}),' to the world, and reading is a journey into the unknown."']})]})]})},y="flex md:h-[40px] md:w-[40px] w-[32px] h-[32px] items-center justify-center rounded-[30px] border-[1px] border-[#F9F9F933] text-[#F9F9F9] disabled:text-[#F9F9F933]";function Y(){const[t,s]=l.useState(1),[r,a]=l.useState(2),[n,d]=l.useState(window.innerWidth),{data:o,isLoading:x}=P(t,r),i=()=>{(o==null?void 0:o.totalPages)!==t&&s(t+1)},p=()=>{t!==1&&s(t-1)};return l.useEffect(()=>{const c=()=>d(window.innerWidth);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),l.useEffect(()=>{if(n>=1280){a(10);return}else if(n>=768){a(8);return}else{a(2);return}},[n]),e.jsxs(z,{childrenSecond:e.jsx(V,{setCurrentPage:s,currentPage:t}),children:[e.jsxs("div",{className:"mb-[20px] flex items-center justify-between",children:[e.jsx(T,{children:"Recommended"}),e.jsxs("div",{className:"flex items-center justify-end gap-[8px]",children:[e.jsx("button",{type:"button",onClick:p,disabled:t===1,className:y,children:e.jsx(S,{className:"h-[20px] w-[20px]"})}),e.jsx("button",{type:"button",onClick:i,disabled:(o==null?void 0:o.totalPages)===t,className:y,children:e.jsx(E,{className:"h-[20px] w-[20px]"})})]})]}),x?e.jsx(Q,{}):e.jsx(X,{data:o})]})}export{Y as default};
