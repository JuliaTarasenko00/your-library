import{d as g,u as f,a as h,r as j,b as c,j as e,c as E}from"./index-Gdo5W-Ll.js";import{u as v,C as m}from"./index-CCC61CHv.js";import{c as b,d as l,e as w,A as S,E as y,P as A,a as N,C as R,b as P,o as k}from"./ComponentLoader-BiY66Yk1.js";import{T as C}from"./TextInput-FqEeqoD9.js";import{u as F,t as M}from"./toastStyle-CnZ7v1oI.js";import"./iconBase-sbVVsZG_.js";import"./logo-CsRgapO3.js";const q=b().shape({name:l().min(3).required(),email:l().matches(w,"Enter a valid Email*").required("Enter a valid Email*"),password:l().min(8).required("Enter a valid Password*")}),I=()=>{const{mutate:t,isPending:r}=F({mutationKey:["fetch/signup"],mutationFn:n=>g(n)});return{isPending:r,mutate:t}},L={name:"",email:"",password:""};function D(){const t=f(),{mutate:r,isPending:n}=I(),{token:u,setToken:d}=h(),{control:o,handleSubmit:p,formState:{errors:i}}=v({defaultValues:L,mode:"onSubmit",resolver:k(q)}),x=a=>{r(a,{onSuccess:s=>{d(s.token)},onError:s=>{E.error(s.message,{style:M})}})};return j.useEffect(()=>{u&&t(c.main)},[u]),e.jsx(S,{children:e.jsxs("form",{onSubmit:p(x),className:"flex flex-col items-start justify-between",children:[e.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-[14px]",children:[e.jsx(m,{name:"name",control:o,render:({field:a})=>{var s;return e.jsx(C,{...a,errorMessage:(s=i.name)==null?void 0:s.message,label:"Name:"})}}),e.jsx(m,{name:"email",control:o,render:({field:a})=>{var s;return e.jsx(y,{...a,errorMessage:(s=i.email)==null?void 0:s.message})}}),e.jsx(m,{name:"password",control:o,render:({field:a})=>{var s;return e.jsx(A,{...a,errorMessage:(s=i.password)==null?void 0:s.message})}})]}),e.jsxs("div",{className:"mt-[82px] flex items-center gap-[14px] md:gap-[20px]",children:[e.jsx(N,{children:n?e.jsxs("div",{className:"flex items-center gap-[14px]",children:[e.jsx(R,{})," Registration"]}):"Registration"}),e.jsx(P,{to:c.login,children:"Already have an account?"})," "]})]})})}export{D as default};
